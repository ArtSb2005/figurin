{% extends 'base.html' %}
{% load static %}
{% load poll_extras %}
{% block content %}
<div class="instaContent">
<div class="instaItemSingle">
    <div class="instaItemSingle__text fl">
        <div class="instaItemSingle__text-block1">
                <div class="slider">
                        <div class="item">
                            <img src="{% static 'img/img.png' %}" class="minimized" alt="Первый слайд">
                        </div>
                        <div class="item">
                            <img src="{% static 'img/img_1.png' %}" class="minimized" alt="Первый слайд">
                        </div>
                        <div class="item">
                            <img src="{% static 'img/img_2.png' %}" class="minimized" alt="Первый слайд">
                        </div>
                    <a class="prev" onclick="minusSlide()">&#10094;</a><a class="next" onclick="plusSlide()">&#10095;</a>
                </div>
        </div>
        <div class="instaItemSingle__text-block2">
            <p>
                           <b style="font-size: 15px;">Кодлеры на 1 яйцо или на два.</b>
                       <br>Изготовлены в Англии из жаропрочного фарфора. Royal  Worcester, 1970-1990 года.
                       В настоящее время не выпускаются. К ним коробки, крючки. Редкие расцветки.
                       У нас одни из самых низких цен на кодлеры.
                       Все они уже находятся в Москве и не надо переплачивать за доставку из Англии.
                       Цены одни из самых низких в России!
            </p>
        </div>
    </div>
</div>
</div>
</div>
    <script>
    $(function(){
  $('.minimized').click(function(event) {
    var i_path = $(this).attr('src');
    $('body').append('<div id="overlay"></div><div id="magnify"><img src="'+i_path+'"><div id="close-popup"><i></i></div></div>');
    $('#magnify').css({
     left: ($(document).width() - $('#magnify').outerWidth())/2,
     // top: ($(document).height() - $('#magnify').outerHeight())/2 upd: 24.10.2016
            top: ($(window).height() - $('#magnify').outerHeight())/2
   });
    $('#overlay, #magnify').fadeIn('fast');
  });

  $('body').on('click', '#close-popup, #overlay', function(event) {
    event.preventDefault();
    $('#overlay, #magnify').fadeOut('fast', function() {
      $('#close-popup, #magnify, #overlay').remove();
    });
  });
});

    /* Индекс слайда по умолчанию */
var slideIndex = 1;
showSlides(slideIndex);

/* Функция увеличивает индекс на 1, показывает следующй слайд*/
function plusSlide() {
    showSlides(slideIndex += 1);
}

/* Функция уменьшяет индекс на 1, показывает предыдущий слайд*/
function minusSlide() {
    showSlides(slideIndex -= 1);
}

/* Устанавливает текущий слайд */
function currentSlide(n) {
    showSlides(slideIndex = n);
}

/* Основная функция слайдера */
function showSlides(n) {
    var i;
    var slides = document.getElementsByClassName("item");
    var dots = document.getElementsByClassName("slider-dots_item");
    if (n > slides.length) {
      slideIndex = 1
    }
    if (n < 1) {
        slideIndex = slides.length
    }
    for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex - 1].style.display = "block";
    dots[slideIndex - 1].className += " active";
}
</script>
{% endblock content %}
